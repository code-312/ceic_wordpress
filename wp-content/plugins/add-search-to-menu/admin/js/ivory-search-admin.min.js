!function(e){"use strict";function t(){e.each(["image","video","audio","text","pdf"],function(t,i){0===e('.is-mime select option[value*="'+i+'"]:selected').length?e('.search-attachments[name*="'+i+'"]').prop("checked",!1):e('.search-attachments[name*="'+i+'"]').prop("checked",!0)}),0===e('.is-mime select option[value*="doc"]:selected').length&&0===e('.is-mime select option[value*="excel"]:selected').length&&0===e('.is-mime select option[value*="word"]:selected').length?e('.search-attachments[name*="doc"]').prop("checked",!1):e('.search-attachments[name*="doc"]').prop("checked",!0)}function i(){e("._is_settings-highlight_terms").is(":checked")?e(".highlight-container").removeClass("is-field-disabled").show():e(".highlight-container").addClass("is-field-disabled").hide()}function s(){e(".ivory_search_locations").is(":checked")||e(".ivory_search_menu_name").is(":checked")?e(".menu-settings-container").removeClass("is-field-disabled").show():e(".menu-settings-container").addClass("is-field-disabled").hide()}function a(t){void 0!==t&&"default"!==t||!e("#is_menu_styledefault").is(":checked")?e(".form-style-dependent").removeClass("is-field-disabled").show():e(".form-style-dependent").addClass("is-field-disabled").hide()}function o(){e("#_is_ajax-show_description").is(":checked")?e("._is_ajax-description_source_wrap, ._is_ajax-description_length_wrap").removeClass("is-field-disabled").show():e("._is_ajax-description_source_wrap, ._is_ajax-description_length_wrap").addClass("is-field-disabled").hide()}function c(){e("#_is_ajax-show_details_box").is(":checked")&&(e("#_is_ajax-show_matching_categories").is(":checked")||e("#_is_ajax-show_matching_tags").is(":checked"))?e("._is_ajax-product_list_wrap, ._is_ajax-order_by_wrap, ._is_ajax-order_wrap").removeClass("is-field-disabled").show():e("._is_ajax-product_list_wrap, ._is_ajax-order_by_wrap, ._is_ajax-order_wrap").addClass("is-field-disabled").hide()}function n(){e("#_is_ajax-show_more_result").is(":checked")?e("._is_ajax-more_result_text_wrap, ._is_ajax-show_more_func_wrap").removeClass("is-field-disabled").show():e("._is_ajax-more_result_text_wrap, ._is_ajax-show_more_func_wrap").addClass("is-field-disabled").hide()}function l(){e("#_is_ajax-view_all_results").is(":checked")?e("._is_ajax-view_all_text_wrap").removeClass("is-field-disabled").show():e("._is_ajax-view_all_text_wrap").addClass("is-field-disabled").hide()}function r(){e("#_is_ajax-show_more_result").is(":checked")?e("._is_ajax-more_result_text_wrap").removeClass("is-field-disabled").show():e("._is_ajax-more_result_text_wrap").addClass("is-field-disabled").hide()}function d(){e("#_is_customize-enable_customize").is(":checked")?e(".form-table-panel-customize .is-field-wrap").removeClass("is-field-disabled"):e(".form-table-panel-customize .is-field-wrap").addClass("is-field-disabled")}function h(){window.setTimeout(function(){1==confirm("A page reload is required for this change.")?(e("#_is_ajax-enable_ajax").is(":checked")?e(".form-table-panel-ajax .is-field-wrap").removeClass("is-field-disabled"):e(".form-table-panel-ajax .is-field-wrap").addClass("is-field-disabled"),e("#is-admin-form-element").submit()):e("#_is_ajax-enable_ajax").is(":checked")?e("#_is_ajax-enable_ajax").prop("checked",!1):e("#_is_ajax-enable_ajax").prop("checked",!0)},300)}function p(){"1"===e("#is_disable_analytics").val()?e("#is_disable_analytics").closest("div").find(".analytics-info").hide():e("#is_disable_analytics").closest("div").find(".analytics-info").show()}"undefined"!=typeof ivory_search&&null!==ivory_search&&(e(function(){e(window).on("load",function(){e(".is-cb-dropdown .is-cb-multisel").css({position:"absolute",display:"none"}),e(".col-wrapper .load-all").on("click",function(){var t=e("#post_ID").val(),i=e(this).attr("id"),s=e(this),a=e(".search-form-editor-panel").attr("id");e(this).parent().append('<span class="spinner"></span>'),e.ajax({type:"post",url:ivory_search.ajaxUrl,data:{action:"display_posts",post_id:t,post_type:i,inc_exc:a},success:function(t){e(s).parent().find("select").find("option").remove().end().append(t),e(s).parent().find("select option:selected").length&&e(s).parent().find(".col-title span").html("<strong>"+e(s).parent().find(".col-title").text()+"</strong>"),e(s).parent().find(".spinner").remove(),e(s).remove()},error:function(e,t){alert(" The posts could not be loaded. Because: "+t)}})})}),e(document).ready(function(){"menu-search"===window.location.href.split("=").pop()&&(e("#toplevel_page_ivory-search .wp-submenu-wrap li, #toplevel_page_ivory-search .wp-submenu-wrap li a").removeClass("current"),e("#toplevel_page_ivory-search .wp-submenu-wrap li:nth-child(3), #toplevel_page_ivory-search .wp-submenu-wrap li:nth-child(3) a").addClass("current"))});var t="d-m-yy",i=e("#is-after-datepicker").datepicker({dateFormat:"d-m-yy",changeMonth:!0,changeYear:!0}).on("change",function(){s.datepicker("option","minDate",a(this))}),s=e("#is-before-datepicker").datepicker({dateFormat:"d-m-yy",changeMonth:!0,changeYear:!0}).on("change",function(){i.datepicker("option","maxDate",a(this))});function a(i){var s;try{s=e.datepicker.parseDate(t,i.value)}catch(e){s=null}return s}if(1<e(".form-table h3[scope=row]").length){e(".form-table .is-actions a.expand").click(function(){if(e(".form-table .is-actions a.expand").hide(),e(".form-table .ui-accordion-header:not(.is-ptype-hidden), .form-table .ui-accordion-content:not(.is-ptype-hidden), .form-table .is-actions a.collapse").show(),e(".form-table .ui-accordion-content").addClass("ui-accordion-content-active"),e(".form-table h3").addClass("ui-state-active").removeClass("ui-accordion-header-active"),history.pushState){var t=window.location.href.split("#")[0]+"#expand";window.history.pushState({path:t},"",t),e('form input[name="_wp_http_referer"]').val(e('form input[name="_wp_http_referer"]').val().split("#")[0]+"#expand"),e("#is-admin-form-element").length&&e("#is-admin-form-element").attr("action",e("#is-admin-form-element").attr("action").split("#")[0]+"#expand")}return!1}),e(".form-table .is-actions a.collapse").click(function(){if(e(".form-table .is-actions a.expand").show(),e(".form-table .ui-accordion-content, .form-table .is-actions a.collapse").hide(),e(".form-table .ui-accordion-content").removeClass("ui-accordion-content-active"),e(".form-table h3").removeClass("ui-state-active"),history.pushState){var t=window.location.href.split("#")[0]+"#collapse";window.history.pushState({path:t},"",t),e('form input[name="_wp_http_referer"]').val(e('form input[name="_wp_http_referer"]').val().split("#")[0]+"#collapse"),e("#is-admin-form-element").length&&e("#is-admin-form-element").attr("action",e("#is-admin-form-element").attr("action").split("#")[0]+"#collapse")}return!1});var o=window.location.href.split("#");2===o.length&&(e('form input[name="_wp_http_referer"]').val(e('form input[name="_wp_http_referer"]').val().split("#")[0]+"#"+o[1]),e("#is-admin-form-element").length&&e("#is-admin-form-element").attr("action",e("#is-admin-form-element").attr("action").split("#")[0]+"#"+o[1])),e(".form-table").accordion({collapsible:!0,heightStyle:"content",icons:!1,active:!1,create:function(t,i){if(2===o.length){var s=o[1].split("-");if(3===s.length)s=s[2]/2-1,e(".form-table").accordion("option","active",s),e("html, body").animate({scrollTop:e("#"+o[1]).offset().top-200},500);else switch(o[1]){case"expand":e(".form-table .is-actions a.expand").hide(),e(".form-table .ui-accordion-content, .form-table .is-actions a.collapse").show(),e(".form-table .ui-accordion-content").addClass("ui-accordion-content-active"),e(".form-table h3").addClass("ui-state-active").removeClass("ui-accordion-header-active");break;case"collapse":e(".form-table .is-actions a.expand").show(),e(".form-table .ui-accordion-content, .form-table .is-actions a.collapse").hide(),e(".form-table .ui-accordion-content").removeClass("ui-accordion-content-active"),e(".form-table h3").removeClass("ui-state-active")}}else 1<e(".form-table h3[scope=row]").length?e(".form-table").accordion("option","active",!1):e(".form-table").accordion("option","active",0)}}),e(".form-table h3").click(function(){var t=e(this).attr("aria-controls");if(history.pushState){var i=window.location.href.split("#")[0]+"#"+t;window.history.pushState({path:i},"",i),e('form input[name="_wp_http_referer"]').val(e('form input[name="_wp_http_referer"]').val().split("#")[0]+"#"+t),e("#is-admin-form-element").length&&e("#is-admin-form-element").attr("action",e("#is-admin-form-element").attr("action").split("#")[0]+"#"+t)}})}e(".is-colorpicker").wpColorPicker(),e("#search-body select[multiple] option").mousedown(function(t){if(e(this).attr("selected"))return e(this).removeAttr("selected"),!1}),e(".col-title .list-search").keyup(function(){var t=e(this).val().toLowerCase(),i=e(this).parent().parent().find("select option");e(i).each(function(){-1===e(this).text().toLowerCase().indexOf(t)?e(this).fadeOut("fast"):e(this).fadeIn("fast")})}),e(".list-search.wide").keyup(function(){var t=e(this).val().toLowerCase(),i=e(this).parent().find("select option");e(i).each(function(){-1===e(this).text().toLowerCase().indexOf(t)?e(this).fadeOut("fast"):e(this).fadeIn("fast")})}),""===e("#title").val()&&e("#title").focus(),0!==e("#title").length&&ivory_search.titleHint();var c=!1;e(document).on("submit","form",function(t){c=!1,e(window).off("beforeunload")}),e(window).on("beforeunload",function(t){if(e('#search-body :input[type!="hidden"]').each(function(){e(this).hasClass("wp-color-result")||(e(this).is(":checkbox, :radio")?this.defaultChecked!=e(this).is(":checked")&&(c=!0):e(this).is("select")?e(this).find("option").each(function(){this.defaultSelected!=e(this).is(":selected")&&"0"!=e(this).val()&&"Default Search Form"!=e(this).text()&&(c=!0)}):this.defaultValue!=e(this).val()&&(c=!0))}),c)return t.returnValue=ivory_search.saveAlert,ivory_search.saveAlert}),e("#is-admin-form-element").submit(function(){"copy"!=this.action.value&&e(window).off("beforeunload"),"save"==this.action.value&&e("#publishing-action .spinner").addClass("is-active")}),e("#search-body #titlewrap").hover(function(){if(e(this).find("#title[disabled]").length){var t=e(this).find("#title[disabled]").attr("title");e(this).find("#title[disabled]").data("tipText",t).removeAttr("title"),e('<p class="title_tooltip"></p>').text(t).appendTo("body")}},function(){e(this).find("#title[disabled]").attr("title",e(this).find("#title[disabled]").data("tipText")),e(".title_tooltip").remove()}).mousemove(function(t){var i=t.pageX+20,s=t.pageY-40;e(".title_tooltip").css({top:s,left:i})}),e("#search-form-editor-tabs li").hover(function(){var t=e(this).find("a").attr("title");e(this).find("a").data("tipText",t).removeAttr("title"),e('<p class="title_tooltip '+e(this).attr("id")+'"></p>').text(t).appendTo("body").fadeIn("slow")},function(){e(this).find("a").attr("title",e(this).find("a").data("tipText")),e(".title_tooltip."+e(this).attr("id")).remove()}).mousemove(function(t){var i=t.pageX+20,s=t.pageY-40;e(".title_tooltip."+e(this).attr("id")).css({top:s,left:i})})}),ivory_search.titleHint=function(){var t=e("#title"),i=e("#title-prompt-text");""===t.val()&&i.removeClass("screen-reader-text"),i.click(function(){e(this).addClass("screen-reader-text"),t.focus()}),t.blur(function(){""===e(this).val()&&i.removeClass("screen-reader-text")}).focus(function(){i.addClass("screen-reader-text")}).keydown(function(t){i.addClass("screen-reader-text"),e(this).unbind(t)})},e(".is-cb-dropdown .is-cb-title").on("click",function(){e(this).hasClass("is-dropdown-toggle")?e(this).removeClass("is-dropdown-toggle"):e(this).addClass("is-dropdown-toggle"),e(this).parents(".is-cb-dropdown").find(".is-cb-multisel").slideToggle("fast")}),e(document).bind("click",function(t){e(t.target).parents().hasClass("is-cb-dropdown")||(e(".is-cb-dropdown .is-cb-multisel").hide(),e(".is-cb-title").removeClass("is-dropdown-toggle"))}),e('.is-cb-multisel input[type="checkbox"]').on("click",function(){var t=e(this).val(),i=e(this).parent().text().trim();if(e(this).is(":checked")){var s='<span title="'+t+'"> '+i+"</span>";e(this).parents(".is-cb-dropdown").find(".is-cb-titles").append(s),e(this).parents(".is-cb-dropdown").find(".is-cb-select").hide(),e(".form-table h3.post-type-"+t).show(),e(".form-table .post-type-"+t).show().removeClass("is-ptype-hidden")}else e(".form-table .post-type-"+t).hide().addClass("is-ptype-hidden"),e(".form-table .post-type-"+t+" #"+t+"-post-search_all").trigger("click"),e(this).parents(".is-cb-dropdown").find('.is-cb-titles span[title="'+t+'"]').remove(),0===e(this).parents(".is-cb-dropdown").find(".is-cb-titles span").length&&e(this).parents(".is-cb-dropdown").find(".is-cb-select").show()}),e("#search-form-editor .is-mime-select, #search-form-editor .is-post-select, #search-form-editor .is-tax-select, #search-form-editor .is-meta-select").each(function(){e(this).is(":checked")?("all"===e(this).val()&&(e(this).hasClass("is-post-select")?e(this).closest("div").find(".is-posts").hide():e(this).hasClass("is-tax-select")?e(this).closest("div").find(".is-taxes").hide():e(this).hasClass("is-mime-select")&&e(this).closest("div").find(".is-mime").hide()),e(this).hasClass("is-meta-select")&&e(this).closest("div").find(".is-metas").show()):e(this).hasClass("is-meta-select")&&e(this).closest("div").find(".is-metas").hide()}),e("#search-form-editor .is-post-select, #search-form-editor .is-tax-select, #search-form-editor .is-meta-select, #search-form-editor .is-mime-select").on("click",function(t){t.stopPropagation(),e(this).hasClass("is-meta-select")?e(this).is(":checked")?e(this).closest("div").find(".is-metas").show():(e(this).closest("div").find(".is-metas").hide(),e(this).closest("div").find(".is-metas select option").prop("selected",!1)):"selected"===e(this).val()?e(this).hasClass("is-post-select")?(e(this).closest("div").find(".is-posts").show(),e(this).closest("div").find(".notice-is-info").hide()):e(this).hasClass("is-tax-select")?e(this).closest("div").find(".is-taxes").show():e(this).hasClass("is-mime-select")&&e(this).closest("div").find(".is-mime").show():e(this).hasClass("is-post-select")?(e(this).closest("div").find(".is-posts").hide(),e(this).closest("div").find(".notice-is-info").show(),e(this).closest("div").find(".is-posts select option").prop("selected",!1)):e(this).hasClass("is-tax-select")?(e(this).closest("div").find(".is-taxes").hide(),e(this).closest("div").find(".is-taxes select option").prop("selected",!1)):e(this).hasClass("is-mime-select")&&(e(this).closest("div").find(".is-mime").hide(),e(this).closest("div").find(".is-mime select option").prop("selected",!1))}),e('.includes_extras input[type="checkbox"]').on("click",function(){e(this).is(":checked")||e(this).closest(".includes_extras").find('input[type="checkbox"]:checked').length||alert("Please make sure that you have configured the search form to search any content")}),e("#search-form-editor .is-mime option").on("click",function(){e(this).is(":checked")?t():0===e(".is-mime select option:selected").length&&(e("#includes").length?e(".search-attachments").prop("checked",!0):e(".search-attachments").prop("checked",!1))}),e("#search-form-editor .is-mime-select").on("click",function(){"all"===e(this).val()&&(e("#excludes").length?e(".search-attachments").prop("checked",!1):e(".search-attachments").prop("checked",!0))}),0!==e(".is-mime select option:selected").length&&t(),e(".search-attachments-wrapper").show(),e(".search-attachments").on("click",function(){if(0===e(".is-mime select option:selected").length&&!e(this).hasClass("exclude"))return e(this).is(":checked")?void 0:(alert("You can configure it to exclude from search in the search form Exclude section"),!1);var t="";switch(e(this).attr("name")){case"search_images":t="image";break;case"search_videos":t="video";break;case"search_audios":t="audio";break;case"search_text":t="text";break;case"search_pdfs":t="pdf";break;case"search_docs":t=["doc","excel","word"]}if(""!==t)if(Array.isArray(t)){var i=this;e.each(t,function(t,s){e(i).is(":checked")?e('.is-mime select option[value*="'+s+'"]').attr("selected","selected"):e('.is-mime select option[value*="'+s+'"]').removeAttr("selected")})}else e(this).is(":checked")?e('.is-mime select option[value*="'+t+'"]').attr("selected","selected"):e('.is-mime select option[value*="'+t+'"]').removeAttr("selected");e(this).hasClass("exclude")||0!==e(".is-mime select option:selected").length||e(".search-attachments").prop("checked",!0)}),e("#search-form-editor .post-type-attachment .is-posts option").on("click",function(){0===e("#search-form-editor .post-type-attachment .is-posts option:selected").length?e(".is-mime-radio, .search-attachments-wrapper").show():e(".is-mime-radio, .is-mime, .search-attachments-wrapper").hide()}),e("#search-form-editor .not_load_files").each(function(){e(this).is(":checked")||e(this).parent().next(".not-load-wrapper").hide()}),e("#search-form-editor .not_load_files").on("click",function(){e(this).is(":checked")?e(this).parent().next(".not-load-wrapper").show():e(this).parent().next(".not-load-wrapper").hide()}),i(),e("._is_settings-highlight_terms").on("click",function(){i()}),s(),e(".ivory_search_locations, .ivory_search_menu_name").on("click",function(){s()}),a(),e(".ivory_search_style").on("click",function(){a(e(this).val())}),o(),e("._is_ajax-description_wrap .check-radio").on("click",function(){o()}),c(),e("#_is_ajax-show_details_box, #_is_ajax-show_matching_categories, #_is_ajax-show_matching_tags").on("click",function(){c()}),n(),e("._is_ajax-show_more_result_wrap .check-radio").on("click",function(){n()}),l(),e("._is_ajax-view_all_results_wrap .check-radio").on("click",function(){l()}),r(),e("._is_ajax-show_more_result_wrap .check-radio").on("click",function(){r()}),d(),e("#_is_customize-enable_customize").on("click",function(){window.setTimeout(function(){1==confirm("A page reload is required for this change.")?(d(),e("#is-admin-form-element").submit()):e("#_is_customize-enable_customize").is(":checked")?e("#_is_customize-enable_customize").prop("checked",!1):e("#_is_customize-enable_customize").prop("checked",!0)},300)}),e(".form-table-panel-customize .is-field-disabled-message .message").on("click",function(){e("#_is_customize-enable_customize").trigger("click")}),e("#_is_ajax-enable_ajax").on("click",function(){h()}),e(".form-table-panel-ajax .is-field-disabled-message .message").on("click",function(){e("#_is_ajax-enable_ajax").trigger("click")}),p(),e("#is_disable_analytics").on("click",function(){p()}))}(jQuery);